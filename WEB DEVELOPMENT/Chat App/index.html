<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
</head>
<body>
    <h1>Chatting</h1>
    <input type="text" id="message" placeholder="Enter Message"/>
    <button id="sendBtn">Send</button>
    <div id="messages"></div>


    <script src="/socket.io/socket.io.js"></script>

    <script>
        const socket  = io();
        const sendBtn = document.getElementById('sendBtn');
        const messageInput = document.getElementById('message');
        const allMessages = document.getElementById('messages');



        socket.on('message', message =>{
            const p = document.createElement('p');
            p.innerText   = message;
            allMessages.appendChild(p);
        });

        sendBtn.addEventListener('click', e => {
            const message = messageInput.value;
            console.log(message);
            socket.emit('user-message', message);
        })

    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat App</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="chat-container">
    <header class="chat-header">
      <h1>ğŸ’¬ Dark Chat</h1>
    </header>

    <main class="chat-messages" id="messages"></main>

    <div class="chat-input">
      <input type="text" id="message" placeholder="Type a message..."/>
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket  = io();
    const sendBtn = document.getElementById('sendBtn');
    const messageInput = document.getElementById('message');
    const allMessages = document.getElementById('messages');

    socket.on('message', message =>{
        const div = document.createElement('div');
        div.classList.add("message");
        div.innerText = message;
        allMessages.appendChild(div);
        allMessages.scrollTop = allMessages.scrollHeight; // auto scroll
    });

    sendBtn.addEventListener('click', () => {
        const message = messageInput.value;
        if(message.trim() !== ""){
            socket.emit('user-message', message);
            messageInput.value = "";
        }
    });

    // send message on Enter key
    messageInput.addEventListener("keypress", e => {
      if(e.key === "Enter"){
        sendBtn.click();
      }
    });
  </script>
</body>
</html>
